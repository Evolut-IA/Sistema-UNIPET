/* Importar correções para inputs */
@import './admin-input-fix.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #faf9f7;
  --foreground: #1a1a1a;
  --muted: #f7f9fa;
  --muted-foreground: #6b7280;
  --placeholder: #1a1a1a;
  
  --font-sans: 'DM Sans', sans-serif;
  --font-serif: 'Georgia', serif;
  --font-mono: 'Fira Code', monospace;
  
  --radius: 0.5rem;
  
  --primary: #277677;
  --primary-foreground: #ffffff;
  --secondary: #0f1419;
  --secondary-foreground: #ffffff;
  --accent: #FAF9F7;
  --accent-foreground: #277677;
  --destructive: #ef4444;
  --destructive-foreground: #ffffff;
  
  --input: #f7f9fa;
  --border: #e1eaef;
  --ring: #277677;
  
  --card: #e0e0e0;
  --card-foreground: #1a1a1a;
  --popover: #e0e0e0;
  --popover-foreground: #1a1a1a;
  
  --sidebar: #ffffff;
  --sidebar-foreground: #1a1a1a;
  --sidebar-primary: #277677;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #e3ecf6;
  --sidebar-accent-foreground: #277677;
  --sidebar-border: #e1eaef;
  --sidebar-ring: #277677;
  
  /* Admin div background color */
  --admin-div-bg: #e0e0e0;
  --bg-cream-light: #FAF9F7;
  --text-teal: #1a1a1a;
  --border-teal-light: #e1eaef;
  
  --chart-1: #277677;
  --chart-2: #10b981;
  --chart-3: #f59e0b;
  --chart-4: #22c55e;
  --chart-5: #ef4444;
  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --spacing: 0.25rem;
  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --tracking-normal: 0em;
}

.dark {
  --background: hsl(0 0% 0%);
  --foreground: hsl(200 6.6667% 91.1765%);
  --card: hsl(228 9.8039% 10%);
  --card-foreground: hsl(0 0% 85.0980%);
  --popover: hsl(0 0% 0%);
  --popover-foreground: hsl(200 6.6667% 91.1765%);
  --primary: hsl(203.7736 87.6033% 52.5490%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(195.0000 15.3846% 94.9020%);
  --secondary-foreground: hsl(210 25% 7.8431%);
  --muted: hsl(0 0% 9.4118%);
  --muted-foreground: hsl(210 3.3898% 46.2745%);
  --placeholder: hsl(210 3.3898% 46.2745%);
  --accent: hsl(205.7143 70% 7.8431%);
  --accent-foreground: hsl(203.7736 87.6033% 52.5490%);
  --destructive: hsl(356.3033 90.5579% 54.3137%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(210 5.2632% 14.9020%);
  --input: hsl(207.6923 27.6596% 18.4314%);
  --ring: hsl(202.8169 89.1213% 53.1373%);
  --chart-1: hsl(203.8863 88.2845% 53.1373%);
  --chart-2: hsl(159.7826 100% 36.0784%);
  --chart-3: hsl(42.0290 92.8251% 56.2745%);
  --chart-4: hsl(147.1429 78.5047% 41.9608%);
  --chart-5: hsl(341.4894 75.2000% 50.9804%);
  --sidebar: hsl(228 9.8039% 10%);
  --sidebar-foreground: hsl(0 0% 85.0980%);
  --sidebar-primary: hsl(202.8169 89.1213% 53.1373%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(205.7143 70% 7.8431%);
  --sidebar-accent-foreground: hsl(203.7736 87.6033% 52.5490%);
  --sidebar-border: hsl(205.7143 15.7895% 26.0784%);
  --sidebar-ring: hsl(202.8169 89.1213% 53.1373%);
  --radius: 1.3rem;
  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --spacing: 0.25rem;
  --font-mono: Menlo, monospace;
  --font-sans: Open Sans, sans-serif;
  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --font-serif: Georgia, serif;
  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);
  --tracking-normal: 0em;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors disabled:pointer-events-none disabled:opacity-50;
    @apply [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0;
    background-color: #277677;
    color: #ffffff;
    border: none;
  }
  
  .btn-primary:hover {
    background-color: #1f5e5f;
  }
  
  .btn-primary:disabled {
    opacity: 0.5;
    pointer-events: none;
  }
}

/* REMOÇÃO TOTAL DE OUTLINE E FOCUS - PRIORIDADE MÁXIMA */
/* EXCEÇÃO CRÍTICA: Popups e dialogs PRECISAM de box-shadow para funcionar */
*, *::before, *::after {
  outline: none !important;
}

/* Remover box-shadow de todos EXCETO popups */
*:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]),
*:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content])::before,
*:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content])::after {
  box-shadow: none !important;
}

*:focus:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]),
*:focus-visible:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]),
*:focus-within:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]) {
  outline: none !important;
  box-shadow: none !important;
}

*:hover:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]) {
  outline: none !important;
  box-shadow: none !important;
}

*:active:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]) {
  outline: none !important;
  box-shadow: none !important;
}

/* Remover outline de elementos específicos MAS preservar box-shadow dos popups */
button:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]),
input, textarea, select, a, [role="button"], [tabindex],
div:not([role="dialog"]):not([data-radix-dialog-content]):not([data-radix-alert-dialog-content]):not([data-radix-sheet-content]),
span, p, h1, h2, h3, h4, h5, h6, img, svg {
  outline: none !important;
  box-shadow: none !important;
}

/* GARANTIR que popups e dialogs SEMPRE tenham box-shadow */
[role="dialog"], [data-radix-dialog-content], [data-radix-alert-dialog-content], [data-radix-sheet-content] {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
}

/* REMOVER BACKGROUND DOS BOTÕES DO DROPDOWN DE COLUNAS - FORÇA TOTAL */

/* Forçar remoção de background em TODOS os elementos dentro do dropdown */
[data-radix-dropdown-menu-content] * {
  background-color: transparent !important;
  background: transparent !important;
  background-image: none !important;
}

/* Especificamente para itens de menu */
[data-radix-dropdown-menu-content] [role="menuitemcheckbox"],
[data-radix-dropdown-menu-content] > [role="menuitemcheckbox"],
[data-radix-dropdown-menu-content] [data-radix-collection-item],
[data-radix-dropdown-menu-content] .relative.flex.cursor-default,
[data-radix-dropdown-menu-content] div {
  background-color: transparent !important;
  background: transparent !important;
  background-image: none !important;
}

/* Sobrescrever TODOS os estados possíveis */
[data-radix-dropdown-menu-content] *:hover,
[data-radix-dropdown-menu-content] *:focus,
[data-radix-dropdown-menu-content] *:focus-visible,
[data-radix-dropdown-menu-content] *:active,
[data-radix-dropdown-menu-content] *:focus-within {
  background-color: transparent !important;
  background: transparent !important;
  background-image: none !important;
}

/* Sobrescrever variáveis CSS do tema */
[data-radix-dropdown-menu-content] {
  --accent: transparent !important;
  --accent-foreground: inherit !important;
}

/* Bloquear qualquer classe do Tailwind que possa adicionar background */
[data-radix-dropdown-menu-content] .bg-accent,
[data-radix-dropdown-menu-content] .focus\:bg-accent,
[data-radix-dropdown-menu-content] .hover\:bg-accent,
[data-radix-dropdown-menu-content] .data-\[state\=open\]\:bg-accent {
  background-color: transparent !important;
  background: transparent !important;
}

/* CORREÇÃO DEFINITIVA POPUPS MOBILE - Mobile-First com breakpoint expandido */
@media (max-width: 1023px) {
  /* POPUPS E DIALOGS - Centralização forçada com margens iguais */
  [role="dialog"], [data-radix-dialog-content] {
    width: calc(100vw - 2rem) !important;
    max-width: none !important;
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%) translateY(-50%) !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* ALERT DIALOGS */
  [data-radix-alert-dialog-content] {
    width: calc(100vw - 2rem) !important;
    max-width: none !important;
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%) translateY(-50%) !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* SHEETS quando lado direito/esquerdo */
  [data-radix-sheet-content][data-side="right"] {
    width: calc(100vw - 2rem) !important;
    right: 1rem !important;
    left: auto !important;
  }
  
  [data-radix-sheet-content][data-side="left"] {
    width: calc(100vw - 2rem) !important;
    left: 1rem !important;
    right: auto !important;
  }
}

/* Mobile-First Responsive Utilities */
@media (max-width: 1023px) {
  /* Container Mobile Responsive */
  .container-mobile {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }

  /* Stack elements vertically on mobile */
  .stack-mobile {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  /* Mobile-specific spacing */
  .space-mobile {
    gap: 0.5rem !important;
  }

  /* Reduce padding on mobile */
  .p-mobile {
    padding: 0.75rem !important;
  }

  /* Full width on mobile */
  .w-mobile-full {
    width: 100% !important;
  }

  /* Text size adjustments for mobile */
  .text-mobile-sm {
    font-size: 0.875rem !important;
    line-height: 1.25rem !important;
  }

  /* Button mobile positioning */
  .btn-mobile-center {
    margin-left: auto !important;
    margin-right: auto !important;
    width: 100% !important;
  }

  /* Grid to single column on mobile */
  .grid-mobile-single {
    grid-template-columns: 1fr !important;
  }

  /* Hide overflow on mobile */
  .overflow-mobile-hidden {
    overflow-x: hidden !important;
  }

  /* Card mobile specific */
  .card-mobile {
    margin-bottom: 1rem !important;
    padding: 0.75rem !important;
  }

  /* Flex mobile adjustments */
  .flex-mobile-col {
    flex-direction: column !important;
  }

  .flex-mobile-wrap {
    flex-wrap: wrap !important;
  }

  /* Mobile header spacing */
  .header-mobile {
    padding: 0.5rem !important;
    gap: 0.5rem !important;
  }

  /* Mobile form spacing */
  .form-mobile {
    gap: 1rem !important;
  }

  .form-mobile .form-item {
    margin-bottom: 1rem !important;
  }
}

button:focus, input:focus, textarea:focus, select:focus, a:focus, [role="button"]:focus, [tabindex]:focus,
div:focus, span:focus, p:focus, h1:focus, h2:focus, h3:focus, h4:focus, h5:focus, h6:focus,
img:focus, svg:focus {
  outline: none !important;
  box-shadow: none !important;
}

button:hover, input:hover, textarea:hover, select:hover, a:hover, [role="button"]:hover, [tabindex]:hover,
div:hover, span:hover, p:hover, h1:hover, h2:hover, h3:hover, h4:hover, h5:hover, h6:hover,
img:hover, svg:hover {
  outline: none !important;
  box-shadow: none !important;
}

/* Forçar remoção em todos os estados */
*:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

*:focus-within {
  outline: none !important;
  box-shadow: none !important;
}

/* Utility class to hide scrollbars */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;  /* Safari and Chrome */
}

/* Force transparent background for checkbox components */
.custom-checkbox-wrapper,
.custom-checkbox-wrapper *,
.mb-2:has(.custom-checkbox-wrapper),
.mb-2:has(.custom-checkbox-wrapper) * {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  box-shadow: none !important;
}

/* Preserve checkbox visual styles */
.custom-checkbox-input {
  box-shadow: none !important;
}

.custom-checkbox-input[data-checked="true"] {
  background-color: #22c55e !important;
}

/* 3D Card Flip Animation Utilities */
.perspective-1000 {
  perspective: 1000px;
}

.transform-style-preserve-3d {
  transform-style: preserve-3d;
}

.backface-hidden {
  backface-visibility: hidden;
}

.rotate-y-180 {
  transform: rotateY(180deg);
}

/* Text clipping utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Admin pages styling overrides */
/* Apply #e0e0e0 background to all divs in admin pages */
body:has([data-admin-layout]) div,
[data-admin-layout] div,
[data-admin-page] div {
  background-color: #e0e0e0 !important;
}

/* Exception: Keep sidebar white */
[data-admin-layout] .sidebar,
[data-admin-layout] [data-sidebar],
[data-admin-layout] aside {
  background-color: #ffffff !important;
}

/* Exception: Keep modal/dialog backgrounds as intended */
[role="dialog"],
[data-radix-dialog-content],
[data-radix-alert-dialog-content],
[data-radix-sheet-content] {
  background-color: #ffffff !important;
}

/* Exception: Keep dropdown/popover backgrounds as intended */
[data-radix-dropdown-menu-content],
[data-radix-popover-content] {
  background-color: #ffffff !important;
}

/* Ensure text and icons remain #1a1a1a */
[data-admin-layout] *,
[data-admin-page] * {
  color: #1a1a1a !important;
}

/* Exception: Keep button text colors as designed */
[data-admin-layout] button,
[data-admin-layout] [role="button"],
[data-admin-page] button,
[data-admin-page] [role="button"] {
  color: inherit !important;
}
